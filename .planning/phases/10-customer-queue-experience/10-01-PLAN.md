---
phase: 10-customer-queue-experience
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - customer/app/components/ui/skeleton/Skeleton.vue
  - customer/app/components/ui/skeleton/index.ts
  - customer/app/components/StatusSkeleton.vue
  - customer/app/components/LiveIndicator.vue
  - customer/app/components/CompletedStatus.vue
autonomous: true

must_haves:
  truths:
    - "Skeleton component exists and can render animated placeholder"
    - "StatusSkeleton shows loading state matching status page layout"
    - "LiveIndicator shows pulsing green dot with 'Live' text"
    - "CompletedStatus shows checkmark, order number, and gate"
  artifacts:
    - path: "customer/app/components/ui/skeleton/Skeleton.vue"
      provides: "shadcn skeleton component"
      contains: "animate-pulse"
    - path: "customer/app/components/StatusSkeleton.vue"
      provides: "Loading skeleton for status page"
      min_lines: 20
    - path: "customer/app/components/LiveIndicator.vue"
      provides: "Real-time connection indicator badge"
      contains: "animate-ping"
    - path: "customer/app/components/CompletedStatus.vue"
      provides: "Completion confirmation display"
      contains: "CheckCircle"
  key_links:
    - from: "customer/app/components/StatusSkeleton.vue"
      to: "customer/app/components/ui/skeleton/Skeleton.vue"
      via: "import"
      pattern: "import.*Skeleton"
    - from: "customer/app/components/CompletedStatus.vue"
      to: "lucide-vue-next"
      via: "icon import"
      pattern: "import.*CheckCircle"
---

<objective>
Create foundation components for Phase 10 customer queue experience enhancements.

Purpose: Establish reusable UI components (skeleton, live indicator, completion display) that the status page will integrate in Plan 02.

Output: Four new component files - shadcn Skeleton, StatusSkeleton, LiveIndicator, and CompletedStatus.
</objective>

<execution_context>
@/Users/thomas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/thomas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-customer-queue-experience/10-CONTEXT.md
@.planning/phases/10-customer-queue-experience/10-RESEARCH.md
@customer/app/components/PositionDisplay.vue
@customer/app/components/ConnectionStatus.vue
@customer/app/components/ui/card/Card.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add shadcn Skeleton component</name>
  <files>
    customer/app/components/ui/skeleton/Skeleton.vue
    customer/app/components/ui/skeleton/index.ts
  </files>
  <action>
Add the shadcn-vue Skeleton component to the customer app:

1. Create `customer/app/components/ui/skeleton/Skeleton.vue`:
```vue
<script setup lang="ts">
import type { HTMLAttributes } from 'vue'
import { cn } from '@/lib/utils'

const props = defineProps<{
  class?: HTMLAttributes['class']
}>()
</script>

<template>
  <div :class="cn('animate-pulse rounded-md bg-muted', props.class)" />
</template>
```

2. Create `customer/app/components/ui/skeleton/index.ts`:
```ts
export { default as Skeleton } from './Skeleton.vue'
```

This is the standard shadcn-vue skeleton pattern. Uses animate-pulse from Tailwind (already configured with tw-animate-css).
  </action>
  <verify>
Check file exists and has correct content:
```bash
cat customer/app/components/ui/skeleton/Skeleton.vue | grep -q "animate-pulse" && echo "Skeleton OK"
cat customer/app/components/ui/skeleton/index.ts | grep -q "export" && echo "Export OK"
```
  </verify>
  <done>Skeleton component exists with animate-pulse class and proper export</done>
</task>

<task type="auto">
  <name>Task 2: Create StatusSkeleton and LiveIndicator components</name>
  <files>
    customer/app/components/StatusSkeleton.vue
    customer/app/components/LiveIndicator.vue
  </files>
  <action>
Create loading and live indicator components:

1. Create `customer/app/components/StatusSkeleton.vue`:
- Matches the layout of the status page Card
- Uses Skeleton components for title (~h-7 w-40), order number (~h-4 w-32)
- Position area: "You are" text skeleton, large number skeleton (~h-16 w-20), "in queue" skeleton
- Wait time area skeleton (~h-5 w-36)
- All centered with mx-auto
- Wrap in Card with CardHeader and CardContent

2. Create `customer/app/components/LiveIndicator.vue`:
- Small badge with green styling (bg-green-50 text-green-700)
- Pulsing dot: two spans - outer with animate-ping, inner solid
- Text "Live" next to the dot
- Props: show (boolean) - only render when show is true
- Inline-flex, rounded-full, small padding (px-2 py-1), text-xs font-medium
- Gap between dot and text (~gap-1.5)

Reference ConnectionStatus.vue for the pulsing dot pattern (animate-ping).
  </action>
  <verify>
```bash
grep -q "Skeleton" customer/app/components/StatusSkeleton.vue && echo "StatusSkeleton uses Skeleton"
grep -q "animate-ping" customer/app/components/LiveIndicator.vue && echo "LiveIndicator has ping animation"
```
  </verify>
  <done>StatusSkeleton renders card-shaped loading placeholder; LiveIndicator shows green pulsing badge</done>
</task>

<task type="auto">
  <name>Task 3: Create CompletedStatus component</name>
  <files>customer/app/components/CompletedStatus.vue</files>
  <action>
Create completion confirmation component per CONTEXT.md decisions:

1. Create `customer/app/components/CompletedStatus.vue`:
- Props: orderNumber (string), gateNumber (number | null, optional)
- Layout: centered vertical stack with space-y-6, py-4
- Success icon: CheckCircle2 from lucide-vue-next
  - Wrap in div with bg-green-100 rounded-full, w-16 h-16, centered
  - Icon itself w-10 h-10 text-green-600
- Title: "Pickup Complete" in text-2xl font-bold text-green-700
- Subtitle: "Thank you for your pickup!" in text-muted-foreground
- Summary box: bg-muted/50 rounded-lg p-4 text-sm
  - Show "Order #{{ orderNumber }}"
  - If gateNumber, show "Completed at Gate {{ gateNumber }}"
  - Both lines text-muted-foreground

This is a receipt-like confirmation, NOT a full-screen takeover (per CONTEXT.md).
  </action>
  <verify>
```bash
grep -q "CheckCircle" customer/app/components/CompletedStatus.vue && echo "Has icon"
grep -q "orderNumber" customer/app/components/CompletedStatus.vue && echo "Has order prop"
grep -q "gateNumber" customer/app/components/CompletedStatus.vue && echo "Has gate prop"
```
  </verify>
  <done>CompletedStatus displays receipt-like summary with green checkmark, order number, and optional gate</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. All component files exist:
```bash
ls -la customer/app/components/ui/skeleton/
ls -la customer/app/components/StatusSkeleton.vue
ls -la customer/app/components/LiveIndicator.vue
ls -la customer/app/components/CompletedStatus.vue
```

2. TypeScript compilation passes:
```bash
cd customer && pnpm vue-tsc --noEmit 2>&1 | head -20
```

3. Dev server starts without errors:
```bash
cd customer && timeout 15 pnpm dev 2>&1 | grep -E "(ready|error|Error)" | head -5
```
</verification>

<success_criteria>
- Skeleton component renders with animate-pulse class
- StatusSkeleton matches status page layout structure
- LiveIndicator shows pulsing green dot with "Live" text when show=true
- CompletedStatus shows checkmark icon, "Pickup Complete" title, order number, and optional gate
- All components compile without TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/10-customer-queue-experience/10-01-SUMMARY.md`
</output>
